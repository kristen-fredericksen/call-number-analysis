# Analytics Report: 852 Field Analysis - All Indicators

## Description

Pulls all active holdings with 852 MARC data for call number analysis. Used by OLS to identify incorrect first indicators and subfield coding errors. Excludes deleted bibs and holdings. Includes suppressed holdings for completeness. Part of the CUNY-wide call number cleanup project. - KAF (OLS)

## Report paths (per school)

| School | Analytics API path |
|--------|-------------------|
| BMCC | `/shared/Manhattan Community College 01CUNY_BM/Reports/852 Field Analysis - All Indicators` |
| Kingsborough CC | `/shared/Kingsborough Community College 01CUNY_KB/Cataloging/852 Field Analysis - All Indicators` |

## Subject area

Physical Items

## Columns

| # | Field | Analytics path |
|---|-------|---------------|
| 1 | MMS Id | Physical Items > Bibliographic Details > MMS Id |
| 2 | 852 MARC | Physical Items > Holdings Details > 852 MARC |
| 3 | Holdings ID | Physical Items > Holdings Details > Holdings ID |
| 4 | Normalized Call Number | Physical Items > Holdings Details > Normalized Call Number |
| 5 | Permanent Call Number Type | Physical Items > Holdings Details > Permanent Call Number Type |
| 6 | Permanent Call Number | Physical Items > Holdings Details > Permanent Call Number |
| 7 | Suppressed from Discovery | Physical Items > Holdings Details > Suppressed from Discovery |
| 8 | Institution Name | Physical Items > Institution > Institution Name |

## Filters

- Bibliographic Lifecycle = "In Repository" (excludes deleted bibs)
- Holdings Lifecycle = "Active" (excludes deleted holdings)

## Notes

- Analytics data is one day behind â€” reports reflect yesterday's state, not real-time

## SQL (generated by Analytics)

```sql
SET VARIABLE PREFERRED_CURRENCY='Local Currency';
SELECT
   0 s_0,
   "Physical Items"."Bibliographic Details"."MMS Id" s_1,
   "Physical Items"."Holdings Details"."852 MARC" s_2,
   "Physical Items"."Holdings Details"."Holdings ID" s_3,
   "Physical Items"."Holdings Details"."Normalized Call Number" s_4,
   "Physical Items"."Holdings Details"."Permanent Call Number Type" s_5,
   "Physical Items"."Holdings Details"."Permanent Call Number" s_6,
   "Physical Items"."Holdings Details"."Suppressed from Discovery" s_7,
   "Physical Items"."Institution"."Institution Name" s_8,
   DESCRIPTOR_IDOF("Physical Items"."Institution"."Institution Name") s_9
FROM "Physical Items"
WHERE
(("Bibliographic Details"."Bibliographic Lifecycle" = 'In Repository')
 AND ("Holdings Details"."Holdings Lifecycle" = 'Active'))
ORDER BY 7 ASC NULLS FIRST, 6 ASC NULLS FIRST, 3 ASC NULLS FIRST,
         5 ASC NULLS FIRST, 4 ASC NULLS FIRST, 8 ASC NULLS FIRST,
         9 ASC NULLS FIRST, 10 ASC NULLS FIRST, 2 ASC NULLS FIRST
FETCH FIRST 10000001 ROWS ONLY
```
